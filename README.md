# Traingraph generation in go

What is this? See https://de.wikipedia.org/wiki/Bildfahrplan

# Usage

```go
infrastructure := []model.InfrastructureObject{
		{
			Name:     "A",
			Distance: 0,
			Location: 123.45,
			Type:     "station",
			Id: model.ObjectID{
				Db640: "Aa",
				Ifopt: util.NewIfOpt("at:44:1234:0:1"),
			},
		},
		{
			Name:     "A Ort",
			Distance: 0.5,
			Location: 123.7,
			Type:     "stop",
			Id: model.ObjectID{
				Db640: "Aa H1",
				Ifopt: util.NewIfOpt("at:44:1235"),
			},
		},
		{
			Name:     "B",
			Distance: 1,
			Location: 124.45,
			Type:     "station",
			Id: model.ObjectID{
				Db640: "Bb",
				Ifopt: util.NewIfOpt("at:44:5678:0:2"),
			},
		},
		{
			Name:     "C",
			Distance: 1,
			Location: 125.0,
			Type:     "station",
			Id: model.ObjectID{
				Db640: "Cc",
				Ifopt: util.NewIfOpt("at:44:9876:0:2"),
			},
		},
	}

	timetable := []model.Journey{
		{
			ID:   "1234",
			Name: "REX 1234",
			Stops: []model.StopTime{
				{
					Id: model.ObjectID{
						Ifopt: util.NewIfOpt("at:44:1234:0:1"),
					},
					Departure: "09:00",
				},
				{
					Id: model.ObjectID{
						Ifopt: util.NewIfOpt("at:44:1235"),
					},
					Arrival:   "09:05",
					Departure: "09:06",
				},
				{
					Id: model.ObjectID{
						Ifopt: util.NewIfOpt("at:44:5678:0:2"),
					},
					Arrival:   "09:15",
					Departure: "09:17",
				},
				{
					Id: model.ObjectID{
						Ifopt: util.NewIfOpt("at:44:9876:0:2"),
					},
					Arrival: "09:30",
				},
			},
		},
	}

	renderer := oebb.NewOebbStyleRenderer(
		"A - B",
		"Blatt 1234",
		time.Now(),
		time.Now().AddDate(0, 0, 1),
	)

	traingraph := traingraph.NewTrainGraph(
		infrastructure,
		timetable,
		&renderer,
	)
	traingraph.GeneratePDF("out.pdf")
```

# Example

see the `examples` folder

<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# traingraph

```go
import "github.com/joushx/traingraph/pkg/traingraph"
```

## Index

- [type TrainGraph](<#type-traingraph>)
  - [func NewTrainGraph(infrastructure []model.InfrastructureObject, journeys []model.Journey, renderer render.Renderer) TrainGraph](<#func-newtraingraph>)
  - [func (t TrainGraph) GeneratePDF(filename string)](<#func-traingraph-generatepdf>)


## type [TrainGraph](<https://github.com/joushx/traingraph/blob/master/pkg/traingraph/traingraph.go#L9-L13>)

```go
type TrainGraph struct {
    // contains filtered or unexported fields
}
```

### func [NewTrainGraph](<https://github.com/joushx/traingraph/blob/master/pkg/traingraph/traingraph.go#L15>)

```go
func NewTrainGraph(infrastructure []model.InfrastructureObject, journeys []model.Journey, renderer render.Renderer) TrainGraph
```

### func \(TrainGraph\) [GeneratePDF](<https://github.com/joushx/traingraph/blob/master/pkg/traingraph/traingraph.go#L23>)

```go
func (t TrainGraph) GeneratePDF(filename string)
```

# model

```go
import "github.com/joushx/traingraph/pkg/model"
```

## Index

- [type Ifopt](<#type-ifopt>)
- [type InfrastructureObject](<#type-infrastructureobject>)
- [type Journey](<#type-journey>)
- [type ObjectID](<#type-objectid>)
- [type StopTime](<#type-stoptime>)


## type [Ifopt](<https://github.com/joushx/traingraph/blob/master/pkg/model/id.go#L9-L15>)

```go
type Ifopt struct {
    Country  string
    State    string
    Stop     string
    Area     string
    Platform string
}
```

## type [InfrastructureObject](<https://github.com/joushx/traingraph/blob/master/pkg/model/infrastructure.go#L3-L9>)

```go
type InfrastructureObject struct {
    Name     string   `yaml:"name"`
    Location float32  `yaml:"location"`
    Distance float32  `yaml:"distance"`
    Type     string   `yaml:"type"`
    Id       ObjectID `yaml:"id"`
}
```

## type [Journey](<https://github.com/joushx/traingraph/blob/master/pkg/model/journeys.go#L3-L7>)

```go
type Journey struct {
    ID    string     `yaml:"id"`
    Name  string     `yaml:"name"`
    Stops []StopTime `yaml:"stops"`
}
```

## type [ObjectID](<https://github.com/joushx/traingraph/blob/master/pkg/model/id.go#L3-L7>)

```go
type ObjectID struct {
    Db640 string `yaml:"db640,omitempty"`
    ExtId string `yaml:"extId,omitempty"`
    Ifopt Ifopt  `yaml:"ifopt,omitempty"`
}
```

## type [StopTime](<https://github.com/joushx/traingraph/blob/master/pkg/model/journeys.go#L9-L13>)

```go
type StopTime struct {
    Id        ObjectID `yaml:"id"`
    Arrival   string   `yaml:"arrival,omitempty"`
    Departure string   `yaml:"departure,omitempty"`
}
```

# util

```go
import "github.com/joushx/traingraph/pkg/util"
```

## Index

- [func NewIfOpt(value string) model.Ifopt](<#func-newifopt>)


## func [NewIfOpt](<https://github.com/joushx/traingraph/blob/master/pkg/util/id.go#L9>)

```go
func NewIfOpt(value string) model.Ifopt
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->